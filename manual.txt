SUPPORT

Annotald should run on all Unix-ish platforms, including Mac OS X.  It
may run on Windows, but it is not known if it can cope with
Unicode-encoded files on that OS.  Annotald’s current maintainers have
no intention of working to support Windows.

RUNNING

To begin using Annotald, execute the following command at the shell:

$ /path/to/annotald /path/to/settings.js file.psd

/path/to/annotald should be the path to the `annotald' program in this
repository; file.psd should contain trees in the Penn Treebank format.
The path to settings.js is optional; if not supplied the default
settings file (in `treedrawing/settings.js') will be used.  Users are
encouraged to customize the settings file, though.

Then, navigate to localhost:8080 in the Google Chroma browser.
(Annotald is not supported in any other browser.)

USING

Annotald is designed to be used with the right hand on the mouse and the
left hand on the left-hand side of the keyboard.  Here is an incomplete
description of some of the commands; for full details look at
settings.js.

Mouse commands:
- left mouse click: select a node.  With one node already selected,
  define the endpoint of a selected range (originally selected node is
  the startpoint).  The first click after a keyborad command sets the
  selection, it does not define an endpoint if something is already
  selected.
- left mouse click, control held down: create an empty parent for the
  clicked node
- right mouse click, no selection or clicking on selected node: summon
  context menu
- right mouse click, with selection: move selction to be daughter of
  clicked-on node

Keyboard commands:
- leafAfter, leafBefore: add an empty leaf node before/after the selected
  node
- setLabel: with a list of labels, toggle the label of the selected node
  from one to the next in the list, wrapping around when the end is
  reached.  With a dictionary of parts of speech and lists, find the
  list for the POS of the current node and cycle through its list.  (The
  current POS is not remembered, so the list for each POS should
  maintain that POS.)
- makeNode: create a new node that has the selected node(s) as
  daughters.
- toggleExtension: turn on/off the extension given as an argument
- pruneNode: delete the selected node
- clearSelection: unset the mouse selection
- doRename: edit node label/lemma
- editLemma: edit node lemma
- undo/redo: what it says on the tin.  Warning: may be sloooow!
- coIndex: magic.  (TODO: write me)
- toggleLemmata: toggle visibility of lemmata

Annotald generally prevents your from changing the text of the file: you
cannot move nodes such that they change their linear order and cannot
delete textual leaf nodes (but yes structural nodes and comment leaves).

LEMMATA

Annotald can cope (for now) with lemmata in “dash format,” i.e.
"(FOO word-lemma)".  In order for lemma detection to be active, the file
must contain a line reading:
"( (VERSION (FORMAT dash)))"
Annotald will replace this line, if found, at the top of the file.
(This is an ad-hoc version of the file-level metadata specification
currently under active development.)
